<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.4.2',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="keywords" content="blog, koswu, 博客, 技术, 编程, 算法, 安全, hack, 极客">
<meta property="og:type" content="website">
<meta property="og:title" content="KosWu &#39;s blog">
<meta property="og:url" content="http://koswu.github.io/page/2/index.html">
<meta property="og:site_name" content="KosWu &#39;s blog">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="KosWu &#39;s blog">

<link rel="canonical" href="http://koswu.github.io/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>KosWu 's blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=145864234"></script>
    <script pjax>
      var host = window.location.hostname;
      if (host !== "localhost" || !true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '145864234');
      }
    </script>








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">KosWu 's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <h1 class="site-subtitle" itemprop="description">一个普通技术宅的点点滴滴</h1>
      
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/KosWu" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://koswu.github.io/2018/05/15/archive/GEB读后感/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="KosWu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KosWu 's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/15/archive/GEB读后感/" class="post-title-link" itemprop="url">GEB读后感</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-05-15 20:55:02" itemprop="dateCreated datePublished" datetime="2018-05-15T20:55:02+08:00">2018-05-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 11:50:02" itemprop="dateModified" datetime="2020-03-04T11:50:02+08:00">2020-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最近花了一个多月的零碎时间了读这部著作，读毕，有醍醐灌顶之势。遂记拙文一篇，以表观感。</p>
<p>当我看到这本书的时候，一种很怪异的心情了浮上来。巴赫、埃舍尔、哥德尔，这三个看似风牛马不相及的人物怎么能写到一本书里？并且还是一本讲人工智能的书籍里面。这本书从一个简单的形式系统逐渐深入，并且提出了许多这三个人之间的联系，虽然我觉得很多也许是作者某种意义上故意设置的同构，但是这样一种解释方式也让我对这三个人、甚至是这三门学科——音乐、美术、数学，有了新的看法。</p>
<p>鉴于这本书的精妙之处，我难以一一解读，就谈谈我认为的这本书最令人深刻的问题吧。那就是——什么是智能？</p>
<p>在写这本书的年代，人工智能对于现实生活的影响远远没有现在那么高，那个时代，国际象棋和围棋还是机器不能战胜人类的领域。但是作者已经有了如此詹前的想法，可谓一奇也。有人说机器永远不可能拥有智能，因为他只能计算。但是人的神经元也是符合各种各样的物理规则的，神经元也只能按照固定的模式运行。书中提到的一点，就是由一个无智能的复杂系统可能表现出智能。我认为不但是一个无智能的系统，即使是一个智能的系统，也会表示出一定的智能性，因为具有智能的团体，在一定程度上是可以通过将个体的智能退化而获得上层智能的。《乌合之众》中曾经这样描述过 ：“群体的行为总是表现为排斥异议、极端化、情绪化和低智商。”这也许是当一个团体，表现出一定的意识所需要的，将个体的意识行为退化的一种表现。</p>
<p>举个例子，著名<del>过气老婆</del>歌姬“初音未来”，其本身是一个由创作者创作的一个虚拟形象，但是在其知名度提升之后，却能一呼百应，让众多的爱好者加入进来，创作大量的同人作品。在大家创作同人作品的时候，其实就是对这个本不存在的人物的一种形象补全，这个形象由于众多同人的加入逐渐变得丰满起来。<del>说好的初音平胸呢??</del>“初音未来”这个形象，从宏观来看，仿佛变得拥有了自己的意识一般，“初音未来”的演唱会，无论在哪里举办，都会有那么多人去捧场，这种现象有时候真的会让我们忘记了这个“初音未来”只是一个不具意识的创作形象罢了，是众多的粉丝和同人作者，赋予了这个形象以生命。<del>肥宅的老婆是由众肥宅的意识组成的???</del></p>
<p>有趣的是，这种赋予生命的现象并不一定需要这些意识的联系，只要一群有着共同目标的人就会产生这种现象。其在一部21世纪初的动画《攻壳机动队：Stand Alone Complex》中也有提到，荣格所描述的集体无意识似乎在这种时候展现了出来。</p>
<p>在不久之前，Google的Duplex在开发者大会上向我们展示了AI与人通话的场景，其对话自然的程度，让与其对话的人都没能识别出这是一个AI，在特定场景之下，人类已经区别不出AI个真实人类的区别。就我个人认为，AI的发展目前又进入了一个新的风口，其已经具备一定的“智能”，但是距离人类的智能水平还有不少差距。我们应当抛弃那种“人类沙文主义”的包袱，正确看待其发展，并使AI的进一步智能而努力！�还有不少差距。我们应当抛弃那种“人类沙文主义”的包袱，正确看待其发展，并使AI的进一步智能而努力！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://koswu.github.io/2018/03/23/archive/谈谈红黑树（一）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="KosWu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KosWu 's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/03/23/archive/谈谈红黑树（一）/" class="post-title-link" itemprop="url">谈谈红黑树（一）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-03-23 17:08:56" itemprop="dateCreated datePublished" datetime="2018-03-23T17:08:56+08:00">2018-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 11:50:02" itemprop="dateModified" datetime="2020-03-04T11:50:02+08:00">2020-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最近博客一直断更，一时想不到要写什么比较好。这次趁着刚刚学完红黑树的机会，就开篇文章谈谈红黑树吧。</p>
<p>相信稍微对于数据结构都些了解的人都了解过二叉搜索树，二叉搜索树的优点很明显，就是在树基本平衡的情况下（每个分支的深度都差不多）的情况下，对于树节点的增删改查在对数时间（O(lgN))内就能够完成。但是其缺点也很明显，就是必须要在 <strong>平衡</strong> 的情况下，才能有这么高的效率，如果树只向一个方向增长（最坏情况）的话，其效率就变得和线性表一样了，甚至还要低下。</p>
<p><img src="http://blog.koswu.com/attachment/img/balance_or_not_tree.png" alt="最优情况和最坏情况"></p>
<p>平衡二叉树和不平衡二叉树比较</p>
<p>于是，就有人想要发明一种能够在最坏情况下仍然拥有对数时间的效率的数据结构，“自平衡二叉查找树”便诞生了。英文名叫做”Balanced tree”,简称B树hhh。说这么多，估计各位心里仍然没有一点B树Orz。其实所谓平衡树，就是在插入，删除的时候，使用一些树的变换手段（一般是旋转），来使树达到平衡的数据结构，其本质仍然是一棵二叉搜索树。</p>
<p>最早提出的平衡树是AVL树，但是由于种种原因，其并未得到工业界的广泛使用，具体介绍由于篇幅限制这里就不展开了，有兴趣的读者可以自行搜索。目前工业界最为广泛使用的平衡树,便是本次要介绍的红黑树，但为了让我们更容易实现红黑树，我在此并不直接介绍红黑树，而是效率和红黑树差不多的一种变体——左倾红黑树。</p>
<p>在介绍红黑树之前，请让我先介绍一种和红黑树等价的数据结构：”2-3树”。这种树是有点像二叉搜索树，但是又有些不同，重点在于其有两种节点，一种节点和二叉树一样，有一个键和两条指向子节点的链接。另外一种就比较厉害了，他有两个键和三条链接，这三条链接分别指向：同时小于两个键的节点，大小在两个键之间的节点，以及同时大于两个键的节点。</p>
<p>当插入一个键的时候，首先对这个键进行搜索，按照二叉树的方法找到插入的位置，如果要插入的位置在一个2-节点，那就好办了，只要插入这个节点中合适的位置，让这个节点变成3-节点，这样做的话树的平衡性并没有改变。但如果插入的位置已经是一个3-节点的话，事情就变得有些棘手，我们必须在不改变树的平衡性的前提下完成插入操作。<br>我们可以首先将这个键插入3-节点，变成一个临时的4-节点，然后，沿着根的方向，依次分解遇到的4-节点。将4-节点中的处于中间大小的键放到他的父节点中。这样依次进行变换，一直到根节点，如果遇到根节点也变成了4-节点的情况，就可以直接将这个4-节点拆成三个2-节点，这样做的话，树的每条分支增长的速度就是一样的了，因为树由从上向下生长改为了 <em>从下向上</em> 生长。</p>
<p><img src="http://blog.koswu.com/attachment/img/110px-2-3-4_tree_2-node.png" alt="2-节点"><br><img src="http://blog.koswu.com/attachment/img/120px-2-3-4-tree_3-node.png" alt="3-节点"></p>
<p>2-节点和3-节点</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://koswu.github.io/2018/03/23/archive/谈谈红黑树（二）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="KosWu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KosWu 's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/03/23/archive/谈谈红黑树（二）/" class="post-title-link" itemprop="url">谈谈红黑树（二）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-03-23 17:08:52" itemprop="dateCreated datePublished" datetime="2018-03-23T17:08:52+08:00">2018-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 11:50:02" itemprop="dateModified" datetime="2020-03-04T11:50:02+08:00">2020-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>了解了2- 3-树的插入操作后，便可以正式开始介绍左倾红黑树了。2-3 树好是好，但是由于其是用两种不同类型的节点构成的，实现起来不方便。我们可以用一个方法巧妙的替代2-3树中的3节点，就是用两个普通的2-节点，通过一种特殊的链接——红链接来连接起来，来表示一个3-节点。</p>
<p>当然，要表示出这个红链接，需要给每个节点加入一个额外的属性——颜色，红黑树中每个节点都是两种颜色中的一种——黑色和红色。节点的颜色表示指向该节点的链接颜色。根节点与其他节点不同，其始终为黑色。大家应当注意到，左倾红黑树的“左倾”意味着只能够存在向左的红连接，而不能存在向右的链接。</p>
<p>在红黑树中，为了在保证树的平衡性的同时，还能够保证红链接的合法性，我们采用一个balance函数，其调用rotate_left(左旋)和rotate_right(右旋)以及flip_color_black方法来实现这些变换。flip_color_black和flip_color_red的作用在于将一个子节点全为红色的节点染红，并将其子节点染黑，以及上述操作的反向。其实现已经在文后的代码中给出，这里不再细说。关于树的旋转变换，参见下图。</p>
<p><img src="https://blog.koswu.com/attachment/img/Tree_rotation.png" alt="树旋转"></p>
<p>树的插入操作和2-3树类似，首先找到插入位置，插入，然后沿查找路径向上依次执行balance方法（参见实现中的put方法）</p>
<p>再来说说删除最小键，可以在向左遍历的过程中，让红黑树暂时变得“不严谨”，也就是说，暂时允许等价的4-节点出现。并且需要做一个变换，保证当前查找的位置一定是3-节点或者是4-节点，这样当查找到底部的时候，就可以保证当前节点不是2-节点，实现中使用flip_color_red和树的旋转操作来实现，此时只需要直接从树中删去最小节点，然后沿着路径向上调用balance方法恢复树的性质。这里要注意的是，如有需要，我们可以临时改变根节点的颜色为红色，这样就能保证在变换中，父节点的颜色一定是红色。<br>删除最大键与最小键同理，但因为子节点在右边，需要做一些额外的变换，这里留给读者去思考，实现见代码。</p>
<p>现在遇到了最难的操作——删除指定键，但有了前面删除最大最小键的铺垫，问题也就迎刃而解了。与删除最大最小键时类似，沿着查找路径进行4-节点变换，当找到需要删除的键时，可以分为三种情况：</p>
<ul>
<li><p>没有子节点</p>
<p>这种情况非常容易处理，由于可保证当前不是2-节点，直接删除该节点就行</p>
</li>
<li><p>只有一边的子节点</p>
<p>这种也比较简单，只需要将子节点接上原来的链接就行</p>
</li>
<li><p>同时拥有左右节点</p>
<p>此时需要使用类似二叉搜索树中的方法，将该节点与他的右分支中的最小节点交换，此时又将问题转换成了一个删除右分支中的最小键的问题。</p>
</li>
</ul>
<p>最后附上我的实现代码：<br>[gist <a href="https://gist.github.com/Koswu/3383ec7242a997dae163c9af922b1a56]" target="_blank" rel="noopener">https://gist.github.com/Koswu/3383ec7242a997dae163c9af922b1a56]</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://koswu.github.io/2018/02/26/archive/学习总结第三十七天——blender初探/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="KosWu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KosWu 's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/02/26/archive/学习总结第三十七天——blender初探/" class="post-title-link" itemprop="url">学习总结第三十七天——blender初探</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-02-26 22:54:18" itemprop="dateCreated datePublished" datetime="2018-02-26T22:54:18+08:00">2018-02-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 11:50:02" itemprop="dateModified" datetime="2020-03-04T11:50:02+08:00">2020-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>看完《白箱》中的3d制作的部分以后，突然对于3d建模感兴趣，抱着兴趣指引的方针（笑，针对一款开源3d图形处理软件——blender，进行了一番学习。经过一周的学习后，取得了不错的成效。下面是拙作：<br><a href>效果图</a></p>
<p>在学习的过程中，也学习到了一些图形学相关的知识。比如：我们平时用眼睛观察世界，用相机拍照，这样获取的图片属于物体的透视投影，也就是让物体投影到一点上。这种透视表现出来的是一种近大远小的视觉，这符合常识，但是不能够很好的表现物体各部分的比例。这个时候我们就需要正交视图，这是一种投影到面的视图，我们几何中学到的三视图就属于正交视图。</p>
<p>从零开始构建一张效果图，大致需要以下步骤：</p>
<ol>
<li>建模<br>这一步需要很有耐性，基本上就是在一些规则图形上修修补补，构建物体的形状</li>
<li>材质选择<br>对已经建模的物体进行上色,上贴图等等，改变物体的材质效果</li>
<li>灯光设置<br>对场景进行灯光布置和摄像机的位置摆放位置调整</li>
<li>渲染<br>对于场景计算灯光和材质等等的效果建立出最终的图片</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://koswu.github.io/2018/01/23/archive/2018寒假计划/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="KosWu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KosWu 's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/01/23/archive/2018寒假计划/" class="post-title-link" itemprop="url">2018寒假计划</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-01-23 17:59:54" itemprop="dateCreated datePublished" datetime="2018-01-23T17:59:54+08:00">2018-01-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 11:50:02" itemprop="dateModified" datetime="2020-03-04T11:50:02+08:00">2020-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>不知不觉一个学期过去了，虽然有些遗憾，但我仍然庆幸收获了不少知识。在此对我的寒假要学习的东西做一个粗略的计划，以此提醒自己还应该做的事情，防止玩过头。</p>
<hr>
<p>首先寒假中的第一个任务是对算法和数据结构的学习，由于开学就要参加蓝桥杯的比赛，必须在开学之前对于竞赛相关的题目有一个较为全面的认知。除特殊情况以外，应当每天抽出时间，特别是晚上的时间，对算法和数据结构进行一定的练习。</p>
<p>其次，在大一的时候，计划读完《深入理解计算计算机系统》这本书，所以在寒假期间应当至少看到“处理器体系结构”一章。这个可以利用其许多闲置的下午时光完成。</p>
<p>然后是对于计协的要求，对于web后端和数据库进行一些学习，可尝试利用起早晨与的时间来进行。</p>
<p>最后在技术之外，养成良好的生活习惯方面，应当设置闹钟，将学校里养成的生物钟调整过来，无特殊情况，晚上一般应在12点前睡觉，最迟不超过12点半，而早上在8点半起床，最迟不超过9点半。同时在中午也养成短暂午休的习惯，每天可以在午休前背下英语。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://koswu.github.io/2018/01/22/archive/学习总结第三十六天——余弦定理判断文章相似度/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="KosWu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KosWu 's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/01/22/archive/学习总结第三十六天——余弦定理判断文章相似度/" class="post-title-link" itemprop="url">学习总结第三十六天——余弦定理判断文章相似度</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-01-22 23:28:48" itemprop="dateCreated datePublished" datetime="2018-01-22T23:28:48+08:00">2018-01-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 11:50:02" itemprop="dateModified" datetime="2020-03-04T11:50:02+08:00">2020-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>拜读过《数学之美》中的余弦定理应用的相关章节，并学习了符号表的实现以后，一直希望自己能够做一个能够判断文章相似度类似的东西。虽然基础有限，但是仍然取得了不错的效果。<br>分词相关对于我来说数学基础还是有些不够，所以我决定暂时不进行分词，对英文文章这种天生的分词进行处理就好。<br>首先是实现一个符号表，在C++中声明一个模板类，实现如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> SILIB_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STLIB_H_</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt; <span class="class"><span class="keyword">class</span> <span class="title">BinarySearchST</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  Key *keys;</span><br><span class="line">  Value *values;</span><br><span class="line">  <span class="keyword">int</span> st_size;</span><br><span class="line">  <span class="keyword">int</span> count;</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">resize</span><span class="params">(<span class="keyword">int</span> capacity)</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  BinarySearchST(<span class="keyword">int</span> capacity);</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">bool</span> <span class="title">isempty</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function">Value <span class="title">get</span><span class="params">(Key key)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">rank</span><span class="params">(Key key)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">put</span><span class="params">(Key key, Value val)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">(Key key)</span></span>;</span><br><span class="line">  <span class="function">Key <span class="title">min</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function">Key <span class="title">max</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function">Key <span class="title">select</span><span class="params">(<span class="keyword">int</span> k)</span></span>;</span><br><span class="line">  <span class="function">Key <span class="title">ceiling</span><span class="params">(Key key)</span></span>;</span><br><span class="line">  <span class="function">Key <span class="title">floor</span><span class="params">(Key key)</span></span>;</span><br><span class="line">  ~BinarySearchST();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt;<span class="keyword">int</span> BinarySearchST&lt;Key,Value&gt;::resize(<span class="keyword">int</span> capacity)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (capacity &lt; count + <span class="number">1</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//capacity is too small...</span></span><br><span class="line">  &#125;</span><br><span class="line">  Key *keys_new = <span class="keyword">new</span> Key[capacity];</span><br><span class="line">  Value *values_new = <span class="keyword">new</span> Value[capacity];</span><br><span class="line">  <span class="keyword">if</span> (!keys_new || !values_new)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-2</span>;<span class="comment">//allocate memory error...</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; count;i++)</span><br><span class="line">  &#123;</span><br><span class="line">    keys_new[i] = keys[i];</span><br><span class="line">    values_new[i] = values[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">delete</span>[] keys;</span><br><span class="line">  <span class="keyword">delete</span>[] values;</span><br><span class="line">  keys = keys_new;</span><br><span class="line">  values = values_new;</span><br><span class="line">  st_size = capacity;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt;BinarySearchST&lt;Key,Value&gt;::BinarySearchST(<span class="keyword">int</span> capacity):st_size(capacity),count(<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">  keys = <span class="keyword">new</span> Key[capacity];</span><br><span class="line">  values = <span class="keyword">new</span> Value[capacity];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt;<span class="keyword">int</span> BinarySearchST&lt;Key,Value&gt;::size()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt;<span class="keyword">bool</span> BinarySearchST&lt;Key,Value&gt;::isempty()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">return</span> !count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt;Value BinarySearchST&lt;Key,Value&gt;::get(Key key)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (isempty())</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">int</span> i = rank(key);</span><br><span class="line">  <span class="keyword">if</span> (i &lt; count &amp;&amp; keys[i] == key)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> values[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt;<span class="keyword">int</span> BinarySearchST&lt;Key,Value&gt;::rank(Key key)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">int</span> lo = <span class="number">0</span>, hi = count<span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">while</span> (lo &lt;= hi)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">int</span> mid = lo + (hi-lo)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (keys[mid] &gt; key)</span><br><span class="line">    &#123;</span><br><span class="line">      hi = mid - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (keys[mid] &lt; key)</span><br><span class="line">    &#123;</span><br><span class="line">      lo = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">return</span> mid;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> lo;<span class="comment">//if not found, return the index of lower than search key.</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt;<span class="keyword">int</span> BinarySearchST&lt;Key,Value&gt;::put(Key key, Value val)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">int</span> i = rank(key);</span><br><span class="line">  <span class="keyword">if</span> (i &lt; count &amp;&amp; keys[i] == key)</span><br><span class="line">  &#123;</span><br><span class="line">    values[i] = val;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (count+<span class="number">1</span> &gt; st_size)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">int</span> ret_code=resize(st_size*<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span> (ret_code != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">return</span> ret_code;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> j = count; j &gt; i;j--)</span><br><span class="line">  &#123;</span><br><span class="line">    keys[j] = keys[j<span class="number">-1</span>];</span><br><span class="line">    values[j] = values[j<span class="number">-1</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  keys[i] = key;</span><br><span class="line">  values[i] = val;</span><br><span class="line">  count++;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt;<span class="keyword">void</span> BinarySearchST&lt;Key,Value&gt;::del(Key key)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">int</span> i = rank(key);</span><br><span class="line">  <span class="keyword">if</span> (i &lt; count &amp;&amp; keys[i] == key)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = i;j &lt; --count;j++)</span><br><span class="line">    &#123;</span><br><span class="line">      keys[j] = keys[j+<span class="number">1</span>];</span><br><span class="line">      keys[j] = keys[j+<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt;Key BinarySearchST&lt;Key,Value&gt;::min()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">return</span> keys[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt;Key BinarySearchST&lt;Key,Value&gt;::max()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">return</span> keys[count<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt;Key BinarySearchST&lt;Key,Value&gt;::select(<span class="keyword">int</span> k)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">return</span> keys[k];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt;Key BinarySearchST&lt;Key,Value&gt;::ceiling(Key key)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">int</span> i = rank(key);</span><br><span class="line">  <span class="keyword">return</span> keys[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt;Key BinarySearchST&lt;Key,Value&gt;::<span class="built_in">floor</span>(Key key)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">int</span> i = rank(key);</span><br><span class="line">  <span class="keyword">if</span> (keys[i] &gt; <span class="number">0</span> &amp;&amp; keys[i] == key)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> keys[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> keys[i+<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> Value&gt; BinarySearchST&lt;Key,Value&gt;::~BinarySearchST()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">delete</span>[] keys;</span><br><span class="line">  <span class="keyword">delete</span>[] values;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p>这里统计词频率时，Key为string，Value为int，我们可以设计一个函数，能够将文章读入符号表。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">BinarySearchST&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; *getCountedObj(<span class="built_in">std</span>::ifstream&amp; ifst)</span><br><span class="line">&#123;</span><br><span class="line">  BinarySearchST&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; *st = <span class="keyword">new</span> BinarySearchST&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">while</span> (!ifst.eof())</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">string</span> word;</span><br><span class="line">    ifst &gt;&gt; word;</span><br><span class="line">    <span class="keyword">if</span> (word != <span class="string">""</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      st-&gt;put(word, st-&gt;get(word)+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> st;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这时可以得到两个文章向量，各维的坐标值对应了相应的词频。使用以下函数可以计算出这两个文章向量夹角的余弦值，即文章相似度</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">calculateSimialarity</span><span class="params">(BinarySearchST&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; *st1, BinarySearchST&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; *st2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> i=<span class="number">0</span>, j=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">long</span> <span class="keyword">long</span> product = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">double</span> abs1 = <span class="number">0</span>,abs2 = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (i&lt;st1-&gt;size()&amp;&amp;j&lt;st2-&gt;size())</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">string</span> key1 = st1-&gt;select(i);</span><br><span class="line">    <span class="built_in">string</span> key2 = st2-&gt;select(j);</span><br><span class="line">    <span class="keyword">if</span> (key1 &gt; key2)</span><br><span class="line">    &#123;</span><br><span class="line">      abs2 += <span class="built_in">pow</span>(st2-&gt;get(key2), <span class="number">2</span>);</span><br><span class="line">      j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (key1 &lt; key2)</span><br><span class="line">    &#123;</span><br><span class="line">      abs1 +=  <span class="built_in">pow</span>(st1-&gt;get(key1), <span class="number">2</span>);</span><br><span class="line">      i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">      product += st1-&gt;get(key1) * st2-&gt;get(key2);</span><br><span class="line">      abs1 += <span class="built_in">pow</span>(st1-&gt;get(key1), <span class="number">2</span>);</span><br><span class="line">      abs2 += <span class="built_in">pow</span>(st2-&gt;get(key2), <span class="number">2</span>);</span><br><span class="line">      j++;</span><br><span class="line">      i++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  abs1 = <span class="built_in">sqrt</span>(abs1);</span><br><span class="line">  abs2 = <span class="built_in">sqrt</span>(abs2);</span><br><span class="line">  <span class="keyword">double</span> cosed_degree = product/(abs1*abs2);</span><br><span class="line">  <span class="keyword">return</span> cosed_degree;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用<a href="https://sherlock-holm.es/ascii/" target="_blank" rel="noopener">这个网站</a>和<a href="https://textfiles.com/stories/" target="_blank" rel="noopener">这个</a>中的小说作为实验，发现同为福尔摩斯的两篇小说基本上相似度在0.9以上，不同题材小说仅有0.6左右的相似度，较好地符合了预期，实验大成功！！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://koswu.github.io/2018/01/07/archive/学习总结第三十五天——arch Linux安装/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="KosWu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KosWu 's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/01/07/archive/学习总结第三十五天——arch Linux安装/" class="post-title-link" itemprop="url">学习总结第三十五天——arch Linux安装</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-01-07 02:26:20" itemprop="dateCreated datePublished" datetime="2018-01-07T02:26:20+08:00">2018-01-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 11:50:02" itemprop="dateModified" datetime="2020-03-04T11:50:02+08:00">2020-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>想入坑<a href="https://wiki.archlinux.org/index.php/Arch_Linux_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Arch" target="_blank" rel="noopener">Arch</a>好久了，但是有很多次都因为在解决引导的时候就卡了，最后一直没能装上。经过上次制作启动盘的经验，对于grub有了更多的了解。这次再次尝试安装，虽然经历了一些挫折，但还是成功了。下面是具体的安装过程。</p>
<p>首先用u盘引导系统，接下来就进入了arch的Live CD模式（雾）。这也是arch linux最劝退的一步，很多人看到装个系统都要命令行，就退了.。其实用命令行装系统才能真正在装系统的同时学习到知识。</p>
<h2 id="同步时间"><a href="#同步时间" class="headerlink" title="同步时间"></a>同步时间</h2><p>由于arch采用网络安装的方式，所以先让计算机连接上网络，并执行</p>
<pre><code>timedatectl set-ntp true</code></pre><h2 id="硬盘分区"><a href="#硬盘分区" class="headerlink" title="硬盘分区"></a>硬盘分区</h2><p>对硬盘进行分区</p>
<pre><code>fdisk /dev/sdY</code></pre><p>需要注意的是，如果电脑为UEFI引导的，需要将硬盘设置为GPT分区，否则为传统MBR模式。由于我装双系统，所以就只分了一个分区作为根目录，一个分区作为交换分区。<br>交换分区记得将分区的类型设置为82,这样可以让systemd自动发现并挂载。</p>
<p>格式化交换分区</p>
<pre><code>mkswap /sdYM</code></pre><p>格式化主分区</p>
<pre><code>mkfs.ext4 /sdYN</code></pre><p>将主分区挂载至/mnt，将EFI分区挂载至/mnt/boot</p>
<pre><code>mount /dev/sdYN /mnt #挂载主分区
mkdir /mnt/boot
mount /dev/sda1 /mnt/boot #挂载EFI分区</code></pre><p>安装系统文件</p>
<pre><code>pacstrap /mnt base base-devel</code></pre><p>生成fstab文件并检查</p>
<pre><code>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
cat /mnt/etc/fstab</code></pre><p>添加swap分区的UUID到fstab</p>
<pre><code>echo &quot;#/dev/sdYM swap \n UUID=`lsblk -no UUID /dev/sdYM` none swap defaults 0 0&quot; &gt;&gt; /mnt/etc/fstab</code></pre><p>chroot到新的系统目录，由于普通的chroot容器有一些问题，所以我们采用专门开发的arch-chroot</p>
<pre><code>arch-chroot /mnt</code></pre><p>设置时区</p>
<pre><code>ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
hwclock --systohc --utc</code></pre><p>设置本地化信息，打开/etc/locale.gen，取消以下几行的注释</p>
<pre><code>en_US.UTF-8 UTF-8
zh_CN.UTF-8 UTF-8
zh_TW.UTF-8 UTF-8</code></pre><p>运行</p>
<pre><code>locale-gen</code></pre><p>以生成本地化配置文件</p>
<p>在hosts中设置localhost，如果不设置也行，但会造成firefox打开慢等问题</p>
<pre><code>#在/etc/hosts中加入
127.0.0.1     localhost</code></pre><p>设置root密码</p>
<pre><code>passwd</code></pre><p>如果使用intel处理器，安装intel-ucode以启用微码更新</p>
<pre><code>pacman -S intel-ucode</code></pre><hr>
<p>下面进入第二阶段，安装开机引导</p>
<p>安装grub</p>
<pre><code>pacman -S grub
grub-insatll --efi-directory=/boot</code></pre><p>配置grub<br>    pacman os-prober<br>    mkdir /mnt/windows<br>    mount /dev/sda2 /mnt/windows#挂载其他系统的磁盘<br>    grub-mkconfig -o /boot/grub/gurb.cfg</p>
<p>至此就可以正常进入系统了，重启</p>
<pre><code>exit
umount -R /mnt
reboot</code></pre><p>如果仍然进入windows的话，在windows借助一些工具，如bootice来修改UEFI启动顺序，将arch放到第一个。</p>
<hr>
<p>第三阶段，安装GNOME桌面</p>
<p>首先解决显卡驱动的问题,以英特尔和英伟达双显卡驱动为例，安装相关驱动和humblebee——实现显卡交火的工具</p>
<pre><code>sudo pacman -S humblebee mesa xf86-video-intel nvidia primus</code></pre><p>安装后系统命令将默认用集成显卡运行，如果需要使用独显运行，使用</p>
<pre><code>primusrun 命令</code></pre><p>曾经linux下主流的显示协议是X11，现在GNOME已经切换到了效率更高的Wayland，直接安装gnome软件组来获取所有套件</p>
<pre><code>sudo pacman -S gnome</code></pre><p>如果需要其他的gnome软件包的话运行</p>
<pre><code>sudo pacman -S gnome-extra</code></pre><p>开启gdm</p>
<pre><code>systemctl enable gdm</code></pre><p>重启系统，就这样，基本的arch linux就安装好了</p>
<p>贴一张安装好的截图：<br><a href="/attachment/img/arch_screen.png">!安装后</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://koswu.github.io/2018/01/01/archive/学习总结第三十四天——记一次USB启动盘的制作/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="KosWu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KosWu 's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/01/01/archive/学习总结第三十四天——记一次USB启动盘的制作/" class="post-title-link" itemprop="url">学习总结第三十四天——记一次USB启动盘的制作</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-01-01 23:24:38" itemprop="dateCreated datePublished" datetime="2018-01-01T23:24:38+08:00">2018-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 11:50:02" itemprop="dateModified" datetime="2020-03-04T11:50:02+08:00">2020-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>由于最近突然有换系统的想法，于是打算直接做一个启动盘以应付将来的各种装机需求，说起来简单做起来难，在几天摸爬滚打后终于完成了，在这里记录一下过程供参考。</p>
<hr>
<h2 id="初拟需求"><a href="#初拟需求" class="headerlink" title="初拟需求"></a>初拟需求</h2><p>当然是越大越全越好啊，手头有一个32G的U盘，理论上应该能够装挺多系统的，会用到的都塞进去最好，下面是可能会用到的系统</p>
<ul>
<li>Win系<ul>
<li>Windows XP (给各种可能遇到的老的电脑装机)</li>
<li>Win 7 x64(给可能遇到兼容性问题的电脑装机)</li>
<li>Win 10 x64(新电脑装机)</li>
</ul>
</li>
<li>Linux系<ul>
<li>Arch Linux (即将给我的电脑换上的系统)</li>
<li>CentOS (学习服务器运维可能会装到)</li>
<li>Ubuntu (Linux新手必备)</li>
<li>Kali Linux (安全工具可能用到，最好直接是Live CD)</li>
</ul>
</li>
</ul>
<h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>首先排除目前市面上常见的各种XX装机盘制作工具，这种工具制作出来的质量不说，里面有没有挂恶意程序也是未知的，所以一切最好采用开源工具和官方原版镜像制作。初拟采用grub2装入u盘做引导，然后提供选项进行选择进入。利用grub2的iso载入能力，将不同的镜像放到iso/目录里面。</p>
<h2 id="操作与重改需求"><a href="#操作与重改需求" class="headerlink" title="操作与重改需求"></a>操作与重改需求</h2><p>操作过程中，发现grub对于win系没法直接载入iso，因为实质上grub是将kernel内核读入内存以后，再对内核传递参数告诉后面应该从iso去读。但是win毕竟不是linux，目前网上的解决方案里面要么只能支持老版本的winNT，要么需要将整个iso先读入内存，这对小内存机器极不友好。同时，Debian对于读入iso引导的方式支持性也很差。并且Cent OS完整版占用太大，对于兼容性好的FAT32放不下。</p>
<p>解决方案：因为不常用去掉CentOS和Debian系的Kali，win可以采用分区+合盘的方案，将U盘借助工具分区为主分区(FAT32)和win分区(NTFS)，将win镜像解压到win分区里，并且将几个win的wim文件参照网上的教程合并为一个esd文件。xp的安装方式也和win7以后不一样，所以排除。<br>这时还剩下的系统有：</p>
<ul>
<li>Win系<ul>
<li><del>Windows XP</del></li>
<li>Win 7 x64</li>
<li>Win 10 x64</li>
</ul>
</li>
<li>Linux系<ul>
<li>Arch Linux</li>
<li><del>CentOS</del></li>
<li>Ubuntu</li>
<li><del>Kali Linux</del></li>
</ul>
</li>
</ul>
<p>实际制作：<br>  首先将U盘分区，然后将grub安装到u盘上</p>
<pre><code>sudo mkdir /mnt/usb
sudo mount /dev/sdY /mnt/usb #挂载U盘
sudo grub-install --target=i386-pc --boot-directory=/mnt/usb/boot --recheck /dev/sdY #安装BIOS支持
sudo grub-insatall --target=x86_64-efi --efi-directory=/mnt/usb --boot-directory=/mnt/usb/boot #安装UEFI支持</code></pre><p>然后是grub.cfg配置文件</p>
<pre><code>#加载模块
insmod cat
insmod gzio
insmod ext2
insmod ntfs
insmod font
insmod fat
insmod part_msdos
insmod loopback
insmod iso9660
if [ ${grub_platform} == &apos;efi&apos; ]
then
insmod efi_gop
insmod efi_uga
else
insmod vbe
fi
insmod font
insmod search_fs_uuid

set default=0   #默认选项
set timeout=30   #默认等待时间

#加载字体

if loadfont ${prefix}/fonts/unicode.pf2
then
insmod gfxterm
set gfxmode=auto
set gfxpayload=keep
terminal_output gfxterm
fi

#设置语言
set locale_dir=${prefix}/locale
set lang=zh_CN

#设置背景图片
set root=&apos;hd0,1&apos;
insmod jpeg
background_image /boot/grub/images/anime1.jpg
#设置未选中项颜色
set menu_color_normal=white/black
#设置选中项颜色
set menu_color_highlight=cyan/black
# ------------------------------------------------------------------------

#搜索根目录下有iso的磁盘设定为root分区
search --set -f /iso

#set root=(hd0,2)

menuentry &quot;安装WINDOWS&quot; {
search --set -f /bootmgr#搜索根目录下有bootmgr的磁盘设定为root分区
if [ ${grub_platform} == &apos;efi&apos; ]#efi采用链式引导
then
insmod chain
#echo &quot;it&apos;s efi&quot;
chainloader /efi/boot/bootx64.efi
else#传统BIOS采用ntldr引导
insmod ntldr
#echo &quot;it&apos;s not efi&quot;
ntldr /bootmgr
fi
}

menuentry &quot;安装Arch linux x86_64 2017.10.01&quot; {
set iso_path=/iso/archlinux-2017.10.01-x86_64.iso
loopback loop ${iso_path}
linux (loop)/arch/boot/x86_64/vmlinuz archisolabel=ARCH_201710 img_dev=/dev/disk/by-label/ISOTOOLS img_loop=$iso_path iso_path=$iso_path earlymodules=loop
initrd (loop)/arch/boot/x86_64/archiso.img
}


menuentry &quot;安装ubuntu-16.04.2-desktop-amd64&quot; {
set iso_path=/iso/ubuntu-16.04.2-desktop-amd64.iso
loopback loop ${iso_path}
linux (loop)/casper/vmlinuz.efi boot=casper initrd=/casper/initrd.lz iso-scan/filename=${iso_path} quiet noeject noprompt splash --
initrd (loop)/casper/initrd.lz
}

menuentry &quot;重启&quot;{
echo &quot;Rebooting....&quot;
reboot
}

menuentry &quot;关机&quot;{
  echo &quot;Shuting down....&quot;
  halt
}</code></pre><p>再将相关的iso放在主分区的/iso文件夹中，并将windows合盘后的镜像写入次分区。<br>制作大成功！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://koswu.github.io/2017/12/24/archive/学习总结第三十三天——二进制的表示/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="KosWu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KosWu 's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/12/24/archive/学习总结第三十三天——二进制的表示/" class="post-title-link" itemprop="url">学习总结第三十三天——二进制的表示</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-12-24 20:26:48" itemprop="dateCreated datePublished" datetime="2017-12-24T20:26:48+08:00">2017-12-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 11:50:02" itemprop="dateModified" datetime="2020-03-04T11:50:02+08:00">2020-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>我们都知道，在计算机中都是使用二进制来表示整数，但是很少有人深入理解计算机具体是怎么去表示的，认为其不重要，然而事实恰恰相反，许多知名的漏洞利用的都是人们不熟悉或者疏忽了计算机里具体执行的运算。所以对于了解二进制数是怎么存储在计算机里是很有必要的。</p>
<p>一个n位的十进制无符号数,其每个位可以看作一个n维向量中的带有权重的维，而其权重也与位置相关，以1234为例，4的权重为10^0，3的权重为10^1，2的权重为10^2，而1的权重为10^3，其数值即为各维的长度乘以该维的权重之和，即1×10^3+2<em>10^2+3</em>10^1+4*10^0=1234。</p>
<p>二进制无符号数同理，其每一位的权重即为2^n，以1010(2)为例，其可看作一个四维向量，各维的权重从左到右依次是2^3，2^2，2^1，2^0。在计算机中表示二进制数时，是以字节为单位存储的。其有两种存储方式，大端法和小端法，区别在于每个数存储方式是从高地址位还是低地址位存储。如一个数为0x1234，有两个字节，如果在一个16位的机器上，分配两个内存地址分别为0x00和0x01的字节存储，在采用大端法时，内存地址0x00中存储的是0x12,0x11中存储的是0x34;而小端法相反，在0x00中存储的是0x34,0x11中存储的是0x12。这就造成了在不同的机器中，同一段代码可能会有不同的结果。下面这段代码就利用这一点，检测了运行的机器采用的是大端法还是小端法。</p>
<pre><code>#include &lt;stdio.h&gt;

typedef unsigned char* byte_pointer;

int islittle_indian()
{
  int i=0xFF;
  byte_pointer ptr = (byte_pointer)&amp;i;
  if ((*ptr) == 0xFF)
  {
    return 1;
  }
  if ((*ptr) == 0x00)
  {
    return 0;
  }
  else
  {
    return -1;
  }
}

int main(int argc, char const *argv[])
{
  printf(&quot;%d\n&quot;,islittle_indian());
  return 0;
}</code></pre><p>这段代码在采用大端法的机器上运行的时候，输出0,在小端法的机器上运行的时候，便会输出1。尽管现在我们身边采用大端法的机器不多了，但是仍然需要了解。</p>
<p>说了这么多，表示范围仍然在无符号数内，而要扩展到有符号数，就不得不提目前大部分计算机都在采用的有符号数表示方法——补码，许多国内教科书介绍补码时，总是提到将最高位表示符号即原码，原码取反加1就是补码，但是完全没说补码的定义。其实如果了解到无符号数可以看作n维向量这一点，就很好理解补码了。</p>
<blockquote>
<p>补码就是将最高位的权重变为负值的表示方式</p>
</blockquote>
<p>如1010(2)，如果我们按照无符号数的解读方式去乘相关的权重的话，会得到1<em>2^3+1*2^1=10。而如果我们当成补码去解读的话，就是1</em>(-2^3)+2*2^1 = -6，这也得以说明为什么补码中负数的表示范围要比正数大1。补码有很多优点，如进行减法的运算和加法一样，在正数范围内与无符号数表示方法一样等等。虽然补码很方便，但是也要注意与无符号数混用时，经常会产生难以发现且严重的bug。</p>
<p>写了这么多，全面了解计算机系统对于写出健壮程序的重要性可见一斑，今后也应当多留心这方面的东西，才能更好地理解自己写出的程序。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://koswu.github.io/2017/12/15/archive/学习总结第三十二天——从树结构到堆排序/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="KosWu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KosWu 's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/12/15/archive/学习总结第三十二天——从树结构到堆排序/" class="post-title-link" itemprop="url">学习总结第三十二天——从树结构到堆排序</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-12-15 22:55:42" itemprop="dateCreated datePublished" datetime="2017-12-15T22:55:42+08:00">2017-12-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 11:50:02" itemprop="dateModified" datetime="2020-03-04T11:50:02+08:00">2020-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>树结构，或者说树状结构，相信很多人都不陌生，它的名称来自于以树的象征来表现出构造之间的关系，虽然在图象的呈现上，其为一个上下颠倒的树。以下为维基中对于树结构的定义。</p>
<blockquote>
<p>在计算机科学中，树（英语：tree）是一种抽象数据类型（ADT）或是实作这种抽象数据类型的数据结构，用来模拟具有树状结构性质的数据集合。它是由n（n&gt;0）个有限节点组成一个具有层次关系的集合。</p>
<ul>
<li>节点的度：一个节点含有的子树的个数称为该节点的度；</li>
<li>树的度：一棵树中，最大的节点的度称为树的度；</li>
<li>叶节点或终端节点：度为零的节点；</li>
<li>非终端节点或分支节点：度不为零的节点；</li>
<li>父亲节点或父节点：若一个节点含有子节点，则这个节点称为其子节点的父节点；</li>
<li>孩子节点或子节点：一个节点含有的子树的根节点称为该节点的子节点；</li>
<li>兄弟节点：具有相同父节点的节点互称为兄弟节点；</li>
<li>节点的层次：从根开始定义起，根为第1层，根的子节点为第2层，以此类推；</li>
<li>深度：对于任意节点n,n的深度为从根到n的唯一路径长，根的深度为0；</li>
<li>高度：对于任意节点n,n的高度为从n到一片树叶的最长路径长，所有树叶的高度为0；</li>
<li>堂兄弟节点：父节点在同一层的节点互为堂兄弟；</li>
<li>节点的祖先：从根到该节点所经分支上的所有节点；</li>
<li>子孙：以某节点为根的子树中任一节点都称为该节点的子孙。</li>
<li>森林：由m（m&gt;=0）棵互不相交的树的集合称为森林；</li>
</ul>
</blockquote>
<p>而每个节点最多含有两个子树的树又被称为二叉树，下图为一颗二叉树的结构<br><img src="/attachment/img/300px-Binary_tree.svg.png" alt="由Derrick Coetzee - 自己的作品，公有领域，https://commons.wikimedia.org/w/index.php?curid=488419"></p>
<p>明白了二叉树以后，我们便可以来实现一种特殊的二叉树——“二叉堆”。<br>想象一下我们堆东西时的情景，大的物体堆在下层，小的堆在上层。二叉堆同理，父节点的键值总是保持固定的序关系于任何一个子节点的键值，且每个节点的左子树和右子树都是一个二叉堆。</p>
<p>当父节点的键值总是大于或等于任何一个子节点的键值时为最大堆，相反，当父节点的键值总是小于或等于任何一个子节点的键值时为最小堆。</p>
<p>二叉堆一般采用数组来实现，并且舍弃了下标为0的值，这样的话便可以满足关系：元素i的子节点为2i和2i+1。可以方便的遍历一个二叉堆。同时我们应该实现两个方法，让二叉堆在从堆顶移除元素和在堆底添加元素后，能够恢复二叉堆原来的性质。</p>
<p>我们一般将这两个方法命名为sink()和swim()，这个过程可以看作，减少一个元素，就要让最后的元素补上开头的位置，再让这个元素下沉(sink)到合适的位置，增加一个元素，就要在堆的最后插入元素，再将这个元素上浮(swim)到合适的位置。</p>
<p>利用我们所实现二叉堆的两个方法，我们可以实现一个优先队列，有限队列与队列有些像，但是其返回值永远为队列中的最大/最小值。目前已知的有限队列的实现方法中，二叉堆是最实用的，因为其将入列和出列操作都限制在O(nlgn)的时间复杂度之内。</p>
<p>以下为一个返回最大值的优先队列实现：</p>
<pre><code>template &lt;typename T&gt;void swap(T &amp;a, T&amp;b)
{
  T temp = a;
  a = b;
  b = temp;
}

template &lt;typename T&gt;class MaxPQ
{
private:
  T *datas;
  int pqsize;
  int pqcount;
  void swim(int k);
  void sink(int k);
public:
  MaxPQ ();
  MaxPQ (int max);
  MaxPQ (T d[], int size);
  void insert(T v);
  T max();
  T delmax();
  bool isEmpty();
  int size();
  void resize(int size);
  virtual ~MaxPQ ();
};

template &lt;typename T&gt;void MaxPQ&lt;T&gt;::swim(int k)
{
  while (k &gt; 1 &amp;&amp; this-&gt;datas[k&gt;&gt;1] &lt; this-&gt;datas[k])
  {
    swap(this-&gt;datas[k&gt;&gt;1],this-&gt;datas[k]);
    k&gt;&gt;=1;
  }
}

template &lt;typename T&gt;void MaxPQ&lt;T&gt;::sink(int k)
{
  while (k&lt;&lt;1 &lt;= this-&gt;pqcount)
  {
    int j = k&lt;&lt;1;
    if (j &lt; this-&gt;pqcount &amp;&amp; this-&gt;datas[j+1] &gt; this-&gt;datas[j])
    {
      j++;
    }
    if (this-&gt;datas[j] &gt; this-&gt;datas[k])
    {
      swap(this-&gt;datas[j],this-&gt;datas[k]);
    }
    k = j;
  }
}

template &lt;typename T&gt;MaxPQ&lt;T&gt;::MaxPQ():pqsize(4),pqcount(0)
{
  this-&gt;datas = new T[pqsize];
}

template &lt;typename T&gt;MaxPQ&lt;T&gt;::MaxPQ(int max):pqsize(max),pqcount(0)
{
  this-&gt;datas = new T[pqsize];
}

template &lt;typename T&gt;MaxPQ&lt;T&gt;::MaxPQ(T d[], int size):pqsize(size+1),pqcount(0)
{
  this-&gt;datas = new T[pqsize];
  for (int i = 0;i &lt; size;i++)
  {
    this-&gt;insert(d[i]);
  }
}

template &lt;typename T&gt;T MaxPQ&lt;T&gt;::max()
{
  if (this-&gt;pqcount &gt; 0)
  {
    return this-&gt;datas[1];
  }
  return (T)NULL;
}

template &lt;typename T&gt;T MaxPQ&lt;T&gt;::delmax()
{
  if (this-&gt;pqcount &gt; 0)
  {
    T max = this-&gt;datas[1];
    //this-&gt;pqcount--;
    if (this-&gt;pqcount &gt; 0)
    {
      this-&gt;datas[1] = this-&gt;datas[pqcount];
      this-&gt;pqcount--;
      sink(1);
    }
    return max;
  }
  return (T)NULL;
}

template &lt;typename T&gt;bool MaxPQ&lt;T&gt;::isEmpty()
{
  return this-&gt;pqcount == 0;
}

template &lt;typename T&gt;int MaxPQ&lt;T&gt;::size()
{
  return this-&gt;pqcount;
}


template &lt;typename T&gt;void MaxPQ&lt;T&gt;::resize(int size)
{
  T *new_data = new T[size];
  for (int i = 0;i &lt;= this-&gt;pqcount;i++)
  {
    new_data[i] = this-&gt;datas[i];
  }
  delete this-&gt;datas;
  this-&gt;datas = new_data;
}

template &lt;typename T&gt;void MaxPQ&lt;T&gt;::insert(T v)
{
  if (this-&gt;pqcount+1 &gt;= this-&gt;pqsize)
  {
    pqsize &lt;&lt;= 1;
    this-&gt;resize(pqsize);
  }
  this-&gt;datas[++this-&gt;pqcount] = v;
  this-&gt;swim(this-&gt;pqcount);
}

template &lt;typename T&gt;MaxPQ&lt;T&gt;::~MaxPQ()
{
  delete this-&gt;datas;
}

int main(int argc, char const *argv[])
{
  MaxPQ&lt;int&gt; a;
  //int input_value;
  a.insert(3);
  a.insert(3);
  a.insert(234);
  a.insert(2341);
  a.insert(9999);
  std::cout &lt;&lt; a.delmax() &lt;&lt; &apos; &apos; &lt;&lt; a.delmax() &lt;&lt; std::endl;
  std::cout &lt;&lt; a.delmax() &lt;&lt; &apos; &apos; &lt;&lt; a.delmax() &lt;&lt; std::endl;
  std::cout &lt;&lt; a.delmax() &lt;&lt; std::endl;
  return 0;
}</code></pre><p>堆排序，在实现了优先队列的基础上，就并不难了，只要数组先构建为有限队列，然后在依次执行出列操作，得到的一组数据就已经排序，同时我们还可以进一步简化，只用sink()方法就可以来构建一个堆，下面是一个堆排序的实现：</p>
<pre><code>#include &lt;iostream&gt;

template &lt;typename T&gt;void sink(T *datas,int index,int size)
{
  T new_node = datas[index];
  while (index&lt;&lt;1 &lt;= size)
  {
    int j = index&lt;&lt;1;
    if (j &lt; size &amp;&amp; datas[j] &lt; datas[j+1])
    {
      j++;
    }
    if (new_node &gt; datas[j])
    {
      break;
    }
    datas[index] = datas[j];
    index = j;
  }
  datas[index] =new_node;
}

template &lt;typename T&gt;void heap_sort(T datas, int size)
{
  //构造二叉堆
  for (int k = size&lt;&lt;1;k&gt;0;k--)
  {
    sink(datas, k, size);
  }
  //排序
  while(size &gt; 1)
  {
    std::swap(datas[1],datas[size--]);//取出最大值
    sink(datas, 1, size);//重新构造二叉堆
  }
}


int main(int argc, char const *argv[])
{
  int a[5] = {0,1,3,4,1};
  heap_sort(a,5);
  for (auto i:a)
  {
    std::cout &lt;&lt; i  &lt;&lt; std::endl;
  }
  return 0;
}</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="KosWu"
    src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">KosWu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">52</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/KosWu" title="GitHub &rarr; https://github.com/KosWu" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">KosWu</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>
  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.getAttribute('pjax') !== null) {
      element.setAttribute('pjax', '');
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  

















    <div id="pjax">

  

  

  

  


    </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
